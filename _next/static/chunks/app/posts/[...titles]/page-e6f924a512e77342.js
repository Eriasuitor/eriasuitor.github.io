(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[162],{8683:function(e,t){var n;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var o={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var s=i.apply(null,n);s&&e.push(s)}}else if("object"===r){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var l in n)o.call(n,l)&&n[l]&&e.push(l)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0!==(n=(function(){return i}).apply(t,[]))&&(e.exports=n)}()},3797:function(e,t,n){Promise.resolve().then(n.bind(n,7560))},7560:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return X}});var o,i,r,s,l=n(9268),c={name:"赶紧拿小本本记到",media:[{domain:"https://github.com/eriasuitor",icon:"/github.png",name:"Eriasuitor"}]},a=n(7897),u=n.n(a);function d(e){let{text:t}=e,n="".concat(c.name," - ").concat(t);return(0,l.jsx)(u(),{children:(0,l.jsx)("title",{children:n})})}var _=n(8683),f=n.n(_);n(7867);var p=n(6394),h=n.n(p),v=n(6006),m=n(1221),x=n.n(m),j=n(3683),g=n.n(j),N=n(5846),y=n.n(N);function k(e){let{post:t}=e;return t?(0,l.jsxs)("div",{className:g().section,children:[(0,l.jsx)("div",{className:g().sectionTitle,children:(0,l.jsx)(y(),{href:t.key,children:t.title})}),(0,l.jsx)("div",{className:g().sections,children:t.sections.map(e=>(0,l.jsx)(k,{post:e},e.key))})]}):(0,l.jsx)(l.Fragment,{})}function E(e){let{post:t,className:n}=e;return t?(0,l.jsx)("div",{className:n,children:(0,l.jsx)(k,{post:t})}):(0,l.jsx)(l.Fragment,{})}(o=r||(r={}))[o.COMPRESS=0]="COMPRESS",o[o.EXPANDED=1]="EXPANDED",(i=s||(s={}))[i.SCROLL=0]="SCROLL",i[i.MANUAL=1]="MANUAL";let S=(0,v.createContext)(null);function w(e){let{children:t,expanded:n,setExpanded:o}=e;return(0,l.jsx)(S.Provider,{value:[n,o],children:t})}var b=n(4835),M=n.n(b),P=n(9815),A=n.n(P);function C(e){let{contentRef:t,refClassNames:n,...o}=e,[i,c]=(0,v.useState)([]),[a,u]=(0,v.useState)([]);(0,v.useEffect)(()=>{let e=function(e){let t=null==e?void 0:e.querySelectorAll("h1, h2, h3, h4, h5, h6");if(!t)return[];let n=0,o=[];for(;n<t.length;){let{end:e,node:i}=function e(t,n){let o=t.item(n),i={key:String(1e5*Math.random()),element:o,title:o.innerHTML,children:[]},r=n+1;for(;r<t.length&&!(o.nodeName>=t.item(r).nodeName);){let{end:n,node:o}=e(t,r);i.children.push(o),r=n+1}return{end:r-1,node:i}}(t,n);o.push(i),n=e+1}return o}(t.current);c(e),u(function e(t){return t.map(t=>[t,e(t.children)].flat()).flat()}(e))},[t,n]);let d=(0,v.useRef)({}),[_,f]=(0,v.useState)({}),p=(0,v.useCallback)(M().debounce((e,t,n)=>{let o=function e(t,n,o){if(o>20)throw Error("Depths overflow.");for(let i of t){if(i.key===n)return[i];let t=e(i.children,n,o+1);if(t)return[i,...t]}}(i,e,0);a.forEach(e=>{var o;let{key:i}=e;n&&d.current[i]&&(d.current[i].isMain=!1),[null===(o=d.current[i])||void 0===o?void 0:o.operator,t].includes(s.MANUAL)||(d.current[i]={status:r.COMPRESS,operator:t,isMain:!1})}),null==o||o.forEach(e=>d.current[e.key]={status:r.EXPANDED,operator:t,isMain:!1}),n&&d.current[e]&&(d.current[e].isMain=!0),f({...d.current})},100,{leading:!0}),[i,a,d]);return(0,v.useEffect)(()=>{let e=new IntersectionObserver(e=>{if(Date.now()<O)return;let t=e.find(e=>e.isIntersecting);if(!t)return;let n=a.find(e=>e.element===(null==t?void 0:t.target));n&&p(n.key,s.SCROLL,!0)},{});return a.forEach(t=>e.observe(t.element)),()=>a.forEach(t=>e.unobserve(t.element))},[i,a,p]),d.current=_,(0,l.jsx)(w,{expanded:_,setExpanded:f,children:(0,l.jsx)("div",{...o,children:i.map(e=>(0,l.jsx)(D,{tocNode:e,onExpanded:(e,t)=>{var n,i,l;O=Date.now()+500,t?(null===(n=o.onSelect)||void 0===n||n.call(o),p(e.key,s.MANUAL,!0),null===(i=e.element)||void 0===i||i.scrollIntoView({behavior:"smooth",block:"center"})):(null===(l=_[e.key])||void 0===l?void 0:l.status)===r.EXPANDED?(_[e.key].status=r.COMPRESS,f({..._})):(_[e.key].status=r.COMPRESS,f({..._}),p(e.key,s.MANUAL,!1))}},e.key))})})}let O=Date.now();function D(e){var t,n,o,i,s;let{tocNode:c,onExpanded:a}=e,[u]=(0,v.useContext)(S);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{marginLeft:"".concat(Number(null===(t=c.element)||void 0===t?void 0:null===(n=t.nodeName)||void 0===n?void 0:n.replace(/[^0-9]/,""))-1||0,"rem")},className:f()({[A().title]:!0,[A().not_leaf]:c.children.length,[A().expanded]:(null===(o=u[c.key])||void 0===o?void 0:o.status)===r.EXPANDED}),children:[(0,l.jsx)("span",{className:A().icon,onClick:()=>a(c,!1)}),(0,l.jsx)("span",{className:f()({[A().scroll_main]:null===(i=u[c.key])||void 0===i?void 0:i.isMain}),onClick:()=>a(c,!0),children:c.title})]}),(null===(s=u[c.key])||void 0===s?void 0:s.status)===r.EXPANDED&&(0,l.jsx)("div",{children:c.children.map(e=>(0,l.jsx)(D,{tocNode:e,onExpanded:a},e.key))})]})}var L=n(2149),R=n.n(L);let I=(0,v.forwardRef)(function(e,t){var n;let{post:o,className:i,...r}=e;return(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==(n=o.contentHtml)&&void 0!==n?n:""},ref:t,className:f()({[R().post_content]:!0,[null!=i?i:""]:!0}),...r})});function X(e){var t,n;let{posts:o,post:i}=e,[r,s]=(0,v.useState)(!0),[c,a]=(0,v.useState)(!0),u=(0,v.useRef)(null);return i?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d,{text:null!==(n=i.title)&&void 0!==n?n:"文章"}),(0,l.jsxs)("div",{className:x().left_draw_wrapper,children:[(0,l.jsx)(E,{post:o.find(e=>i.key.startsWith(e.key)),className:f()({[x().section]:!0,[x().hidden]:c})}),(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:x().left_icon,onClick:()=>{a(e=>!e),s(!0)},children:[(0,l.jsx)("span",{children:c?"章节":"收起"}),(0,l.jsx)(h(),{src:"/expand.svg",width:18,height:18,alt:"section icon",className:f()({[x().left_icon_icon]:!0,[x().hidden]:c})})]})})]}),(0,l.jsxs)("div",{className:x().draw_wrapper,children:[(0,l.jsx)("div",{children:(0,l.jsxs)("div",{className:x().icon,onClick:()=>{s(e=>!e),a(!0)},children:[(0,l.jsx)(h(),{src:"/expand.svg",width:18,height:18,alt:"toc icon",className:f()({[x().icon_icon]:!0,[x().hidden]:r})}),(0,l.jsx)("span",{children:r?"目录":"收起"})]})}),(0,l.jsx)(C,{contentRef:u,refClassNames:null===(t=u.current)||void 0===t?void 0:t.className,className:f()({[x().toc]:!0,[x().hidden]:r}),onSelect:()=>s(!0)})]}),(0,l.jsx)(I,{id:"post_content",ref:u,post:i,className:f()({[x().post_content]:!0,[x().mask]:!c||!r})})]}):(0,l.jsx)(l.Fragment,{children:"404"})}},7897:function(e,t){"use strict";function n(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7867:function(){},1221:function(e){e.exports={post_content:"post_post_content__Tzmbb",mask:"post_mask__Q3_pR",draw_wrapper:"post_draw_wrapper__DNsBP",left_draw_wrapper:"post_left_draw_wrapper__HC3Hw",icon:"post_icon__k6_JP",left_icon:"post_left_icon__pS54i",left_icon_icon:"post_left_icon_icon__gNFOn",hidden:"post_hidden__QLFnu",icon_icon:"post_icon_icon___4joD",toc:"post_toc__vi2PO",section:"post_section__Yw0mz"}},3683:function(e){e.exports={sectionTitle:"section_sectionTitle__uvaVv",sections:"section_sections__Lr1ue"}},2149:function(e){e.exports={post_content:"post-content_post_content__YaiA1",absent:"post-content_absent__kSGaI",anchor:"post-content_anchor___9Cu4",first:"post-content_first__l9TXJ",frame:"post-content_frame__RRLye","align-center":"post-content_align-center__b8CIf","align-right":"post-content_align-right__WKIEG","float-left":"post-content_float-left__sPpPp","float-right":"post-content_float-right__gQEW2"}},9815:function(e){e.exports={title:"toc_title__Bw3Kl",not_leaf:"toc_not_leaf__958fX",icon:"toc_icon__lIAKo",expanded:"toc_expanded__Sfo5v",scroll_main:"toc_scroll_main__87edM"}},6394:function(e,t,n){e.exports=n(5962)},5846:function(e,t,n){e.exports=n(7477)}},function(e){e.O(0,[180,477,975,253,769,744],function(){return e(e.s=3797)}),_N_E=e.O()}]);